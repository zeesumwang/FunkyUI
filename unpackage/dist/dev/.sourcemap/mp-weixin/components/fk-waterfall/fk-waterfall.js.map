{"version":3,"sources":["webpack:///C:/Users/Administrator/Documents/HBuilderProjects/FunkyUI/components/fk-waterfall/fk-waterfall.vue?2290","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/FunkyUI/components/fk-waterfall/fk-waterfall.vue?f016","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/FunkyUI/components/fk-waterfall/fk-waterfall.vue?674a","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/FunkyUI/components/fk-waterfall/fk-waterfall.vue?ff37","uni-app:///components/fk-waterfall/fk-waterfall.vue","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/FunkyUI/components/fk-waterfall/fk-waterfall.vue?0b3f","webpack:///C:/Users/Administrator/Documents/HBuilderProjects/FunkyUI/components/fk-waterfall/fk-waterfall.vue?6ce9"],"names":[],"mappings":"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","file":"components/fk-waterfall/fk-waterfall.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./fk-waterfall.vue?vue&type=template&id=5e48cdc4&scoped=true&\"\nvar renderjs\nimport script from \"./fk-waterfall.vue?vue&type=script&lang=js&\"\nexport * from \"./fk-waterfall.vue?vue&type=script&lang=js&\"\nimport style0 from \"./fk-waterfall.vue?vue&type=style&index=0&id=5e48cdc4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e48cdc4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/fk-waterfall/fk-waterfall.vue\"\nexport default component.exports","export * from \"-!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./fk-waterfall.vue?vue&type=template&id=5e48cdc4&scoped=true&\"","var components = {\n  fkList: function() {\n    return import(\n      /* webpackChunkName: \"components/fk-list/fk-list\" */ \"@/components/fk-list/fk-list.vue\"\n    )\n  },\n  fkCell: function() {\n    return import(\n      /* webpackChunkName: \"components/fk-cell/fk-cell\" */ \"@/components/fk-cell/fk-cell.vue\"\n    )\n  },\n  fkImage: function() {\n    return import(\n      /* webpackChunkName: \"components/fk-image/fk-image\" */ \"@/components/fk-image/fk-image.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./fk-waterfall.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./fk-waterfall.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- #ifdef APP-NVUE -->\r\n\t<waterfall \r\n\t\t:column-count=\"columnCount\" \r\n\t\t:column-gap=\"0\"\r\n\t\t:style=\"{'height': height + 'px','width': width + 'px'}\"\r\n\t\t:show-scrollbar=\"showScrollbar\" \r\n\t\t:bounce=\"bounce\"\r\n\t\t:scrollable=\"true\"\r\n\t\t:loadmoreoffset=\"50\"\r\n\t\t:offset-accuracy=\"15\"\r\n\t\t@scroll=\"scroll\"\r\n\t\t@loadmore=\"$emit('loadmore')\"\r\n\t>\r\n\t\t<refresh v-if=\"hasRefresh\" ref=\"refresh\" @refresh=\"onrefresh\" @pullingdown=\"onpullingdown\" :display=\"isRefresh ? 'show' : 'hide'\">\r\n\t\t\t<view \r\n\t\t\t\tstyle=\"justify-content: center;align-items: center;flex-direction: row;flex-wrap: nowrap;\" \r\n\t\t\t\t:style=\"{'width': width + 'px', 'height': maxPullingDistance + 'px'}\"\r\n\t\t\t>\r\n\t\t\t\t<loading-indicator v-if=\"isRefresh\" :animating=\"true\" style=\"width: 20px;height: 20px;margin: 10px;\" :style=\"{color: refreshTextColor}\"></loading-indicator>\r\n\t\t\t\t<image class=\"refreshIcon\" \r\n\t\t\t\t\t:class=\"{'refreshIconActive': movedDistance >= refreshDistance}\" \r\n\t\t\t\t\t:style=\"{width: isRefresh || isTouchMove == false ? 0 : '26px', margin: isRefresh  || isTouchMove == false ? 0 : '7px'}\" \r\n\t\t\t\t\t:src=\"pullingIcon\"\r\n\t\t\t\t>\r\n\t\t\t\t</image>\r\n\t\t\t\t\r\n\t\t\t\t<text :style=\"{color: refreshTextColor, fontSize: refreshTextFontSize, width: !isRefresh && isTouchMove == false ? 0 : '60px'}\">{{refreshTip}}</text>\r\n\t\t\t</view>\r\n\t\t</refresh>\r\n\t<!-- #endif -->\r\n\t\t<!-- #ifndef APP-NVUE -->\r\n\t\t<fk-list \r\n\t\t\tref=\"fk-list\"\r\n\t\t\t:height=\"height\"\r\n\t\t\t:width=\"width\"\r\n\t\t\t:hasRefresh=\"hasRefresh\"\r\n\t\t\t:pullingIcon=\"pullingIcon\"\r\n\t\t\t:refreshingIcon=\"refreshingIcon\"\r\n\t\t\t:bounce=\"bounce\"\r\n\t\t\t:showScrollbar=\"showScrollbar\"\r\n\t\t\t:maxPullingDistance=\"maxPullingDistance\"\r\n\t\t\t:refreshDistance=\"refreshDistance\"\r\n\t\t\t:refreshTextColor=\"refreshTextColor\"\r\n\t\t\t:refreshTextFontSize=\"refreshTextFontSize\"\r\n\t\t\t:tips=\"tips\"\r\n\t\t\t:isRefresh=\"isRefresh\" \r\n\t\t\t@refreshing=\"$emit('refreshing')\"\r\n\t\t\t@dragingDown=\"$emit('dragingDown')\" \r\n\t\t\t@dragingUp=\"$emit('dragingUp')\"\r\n\t\t\t@loadmore=\"$emit('loadmore')\"\r\n\t\t>\r\n\t\t\t<fk-cell>\r\n\t\t\t\t<view style=\"flex-direction: row;justify-content: space-between;\">\r\n\t\t\t\t\t<view :style=\"{width: columnWidth + 'px'}\" v-for=\"columnNum in columnCount\" :key=\"columnNum\">\r\n\t\t\t\t\t\t<!-- <text style=\"color: #007AFF;\">{{columnNum}}</text> -->\r\n\t\t\t\t\t\t<!-- 小程序端的起点为0 -->\r\n\t\t\t\t\t\t<!-- #ifdef MP -->\r\n\t\t\t\t\t\t<fk-image v-for=\"(url,index) in columnInfo.url['column'+(columnNum)]\" :key=\"index\" :limitWidth=\"columnWidth\" :src=\"url+'?x-oss-process=image/resize,h_400,w_400'\"></fk-image>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t<!-- #ifndef MP -->\r\n\t\t\t\t\t\t<fk-image v-for=\"(url,index) in columnInfo.url['column'+(columnNum-1)]\" :key=\"index\" :limitWidth=\"columnWidth\" :src=\"url+'?x-oss-process=image/resize,h_400,w_400'\"></fk-image>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</fk-cell>\r\n\t\t\t\r\n\t\t</fk-list>\r\n\t\t<!-- #endif -->\r\n\t\t\r\n\t<!-- #ifdef APP-NVUE -->\r\n\t\t<cell ref=\"topElement\"></cell>\r\n\t\t<cell v-for=\"(url,index) in urlList\" :key=\"index+url\" :style=\"{width: columnWidth + 'px'}\">\r\n\t\t\t<fk-image :limitWidth=\"columnWidth\" :src=\"url+'?x-oss-process=image/resize,h_600,w_600'\" @loadSuccess=\"loadSuccess\"></fk-image>\r\n\t\t</cell>\r\n\t</waterfall>\r\n\t<!-- #endif -->\r\n\t\r\n</template>\r\n\r\n<script>\r\n\t// #ifdef APP-NVUE\r\n\tconst dom = uni.requireNativePlugin('dom') // 在APP端引入weex的dom组件\r\n\t// #endif\r\n\t\r\n\texport default {\r\n\t\tname: \"fkWaterfall\",\r\n\t\tprops: {\r\n\t\t\t'columnCount': {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 2\r\n\t\t\t},\r\n\t\t\t'urlList': {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault() {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'width': {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0,\r\n\t\t\t},\r\n\t\t\t'height': {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\thasRefresh: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault() {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpullingIcon: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault() {\r\n\t\t\t\t\treturn \"/static/pullingDown.png\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trefreshingIcon: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault() {\r\n\t\t\t\t\treturn \"/static/refreshing.png\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshowScrollbar: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault() {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbounce: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault() {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmaxPullingDistance: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault() {\r\n\t\t\t\t\treturn 60\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trefreshDistance: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault() {\r\n\t\t\t\t\treturn 55\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trefreshTextColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault() {\r\n\t\t\t\t\treturn \"#ffffff\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trefreshTextFontSize: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault() {\r\n\t\t\t\t\treturn '12px'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'isRefresh': {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\ttips: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault() {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t'notSatisfied': '下拉刷新',\r\n\t\t\t\t\t\t'satisfied': '释放刷新',\r\n\t\t\t\t\t\t'release': '正在刷新..'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlastHeightInfo: [],\r\n\t\t\t\tcolumnWidth: 0,\r\n\t\t\t\tcolumnInfo: {\r\n\t\t\t\t\t'url': {},\r\n\t\t\t\t\t'height': []\r\n\t\t\t\t},\r\n\t\t\t\turlCount: 0,\r\n\t\t\t\tloadedCount: 0,\r\n\t\t\t\tisTouchMove: false,\r\n\t\t\t\tmovedDistance: 0,\r\n\t\t\t\tdragingUp: false,\r\n\t\t\t\tdragingDown: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t\t\t\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// ** 以下代码必须放在mounted钩子上，在created中H5正常，但MP小程序会无法正确读取列宽等信息 **\r\n\t\t\t// 初始化瀑布流的列宽\r\n\t\t\tthis.columnWidth = this.width / this.columnCount\r\n\t\t\t// 统计url的总数\r\n\t\t\tthis.urlCount = this.urlList.length\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\t// 非APP端的额外实现\r\n\t\t\t// 初始化瀑布流各列的图片列表为空，各列初始高度为0\r\n\t\t\tfor(var i = 0; i < this.columnCount; i++){\r\n\t\t\t\tthis.$set(this.columnInfo.url,'column'+i,[])\r\n\t\t\t\tthis.$set(this.columnInfo.height,i,0)\r\n\t\t\t}\r\n\t\t\tthis.setWaterfall(this.urlList)\r\n\t\t\t// #endif\t\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\turlList: async function(newUrlList,oldUrlList) {\r\n\t\t\t\tthis.urlCount = this.urlList.length\r\n\t\t\t\tvar urlList = this.urlList.slice(this.loadedCount,newUrlList.length)\r\n\t\t\t\tawait this.setWaterfall(urlList)\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync setWaterfall (urlList) {\r\n\t\t\t\tfor(var i = 0; i < urlList.length; i++){\r\n\t\t\t\t\tawait this.getImageInfo(urlList[i])\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getImageInfo (url) {\r\n\t\t\t\tvar [error, res] = await uni.getImageInfo({\r\n\t\t\t\t\tsrc: url,\r\n\t\t\t\t});\r\n\t\t\t\tlet imgWidth = this.columnWidth\r\n\t\t\t\tlet imgHeight = imgWidth * res.height / res.width\r\n\t\t\t\tlet event = {'height': imgHeight,'url': url}\r\n\t\t\t\tawait this.loadSuccess(event)\r\n\t\t\t},\r\n\t\t\tasync loadSuccess (e) {\r\n\t\t\t\t// #ifndef APP-NVUE\r\n\t\t\t\tlet minHeight = Math.min.apply(null, this.columnInfo.height)\r\n\t\t\t\tlet minHeightColumnIndex = this.columnInfo.height.indexOf(minHeight)\r\n\t\t\t\tvar newArray = this.columnInfo.url['column'+minHeightColumnIndex]\r\n\t\t\t\tnewArray.push(e.url)\r\n\t\t\t\tthis.$set(this.columnInfo.url,'column'+minHeightColumnIndex,newArray)\r\n\t\t\t\tvar newHeight = this.columnInfo.height[minHeightColumnIndex] + e.height\r\n\t\t\t\tthis.$set(this.columnInfo.height,minHeightColumnIndex,newHeight)\r\n\t\t\t\t\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.loadedCount += 1\r\n\t\t\t},\r\n\t\t\tbackToTop: function() {\r\n\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\tlet topElement = this.$refs['topElement']\r\n\t\t\t\tdom.scrollToElement(topElement, {\r\n\t\t\t\t\toffset: 0,\r\n\t\t\t\t\tanimated: true\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// #ifndef APP-NVUE\r\n\t\t\t\tthis.$refs['fk-list'].backToTop()\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tdetectScrollAction: function(e) {\r\n\t\t\t\tlet deltaY = 0 \r\n\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\tthis.isTouchDown = e.isDragging\r\n\t\t\t\t// NVUE下使用的<list>组件的@scroll事件，其Y轴变化量没给出，需要自行计算\r\n\t\t\t\tif(this.isTouchDown == true) {\r\n\t\t\t\t\tdeltaY = e.contentOffset.y - this.latestY\r\n\t\t\t\t\tthis.latestY = e.contentOffset.y\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// #ifndef APP-NVUE\r\n\t\t\t\t// 非NVUE下使用的<scroll-view>组件，其Y轴变化量已给出，直接获取\r\n\t\t\t\tdeltaY = e.detail.deltaY\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// console.log(deltaY)/* \r\n\t\t\t\tif(this.isTouchDown == true && deltaY > 10) {\r\n\t\t\t\t\tif(this.dragingDown !== true) {\r\n\t\t\t\t\t\tthis.$emit('dragingDown')\r\n\t\t\t\t\t\tthis.dragingDown = true\r\n\t\t\t\t\t\tthis.dragingUp = false\r\n\t\t\t\t\t\tconsole.log(\"向下拖动\")\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this.isTouchDown == true && deltaY < -30) {\r\n\t\t\t\t\tif(this.dragingUp !== true) {\r\n\t\t\t\t\t\tthis.$emit('dragingUp')\r\n\t\t\t\t\t\tthis.dragingUp = true\r\n\t\t\t\t\t\tthis.dragingDown = false\r\n\t\t\t\t\t\tconsole.log(\"向上拖动\")\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdetectRefresh: function() {\r\n\t\t\t\t// 非APP端，判断下拉程度，设置图标动态旋转角度\r\n\t\t\t\t// #ifndef APP-NVUE\r\n\t\t\t\tif(this.movedDistance > this.refreshDistance * 0.718){\r\n\t\t\t\t\tthis.rotateDegree = Math.min((this.movedDistance - this.refreshDistance * 0.718) / (this.refreshDistance * (1 - 0.718)) * 180, 179.99)\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.rotateDegree = 0\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// 判断是否满足刷新条件\r\n\t\t\t\tif(this.movedDistance >= this.refreshDistance){\r\n\t\t\t\t\tthis.refreshTip = this.tips.satisfied\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.refreshTip = this.tips.notSatisfied\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscroll: function(e) {\r\n\t\t\t\tthis.detectScrollAction(e)\r\n\t\t\t\t\r\n\t\t\t\t// #ifndef APP-NVUE\r\n\t\t\t\t// 同步PC端下鼠标点摁触摸的滚动和滚轮的滚动状态\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tthis.scrollTop = e.detail.scrollTop\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\tif(e.detail.scrollTop <= 4){\r\n\t\t\t\t\tthis.isTop = true\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(this.isTop){\r\n\t\t\t\t\t\tthis.isTop = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.isBottom){\r\n\t\t\t\t\t\tthis.isBottom = false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\ttouchend: function() {\r\n\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\tthis.movedDistance = 0\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\tthis.isTouchDown = false\r\n\t\t\t\tthis.isTouchMove = false\r\n\t\t\t\tthis.isFirst = true\r\n\t\t\t\t\r\n\t\t\t\tif(this.refreshTip == this.tips.satisfied){\r\n\t\t\t\t\tthis.refreshTip = this.tips.release\r\n\t\t\t\t\tthis.$emit(\"refreshing\")\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// nvue下释放刷新也转到touchend\r\n\t\t\tonrefresh: function(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.touchend()\r\n\t\t\t},\r\n\t\t\tonpullingdown: function(e) {\r\n\t\t\t\tthis.refreshDistance = e.viewHeight\r\n\t\t\t\tthis.movedDistance = e.pullingDistance\r\n\t\t\t\tthis.isTouchMove = true\r\n\t\t\t\tthis.detectRefresh()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.refreshIcon {\r\n\t\twidth: 26px;\r\n\t\theight: 26px;\r\n\t\tmargin: 7px; \r\n\t\ttransition-duration: 200ms;\r\n\t\ttransition-property: transform;\r\n\t\ttransform: rotate(0deg); \r\n\t\ttransform-origin: 13px 13px;\r\n\t}\r\n\t.refreshIconActive {\r\n\t\ttransform: rotate(180deg);\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./fk-waterfall.vue?vue&type=style&index=0&id=5e48cdc4&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./fk-waterfall.vue?vue&type=style&index=0&id=5e48cdc4&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1605201954531\n      var cssReload = require(\"D:/HbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}